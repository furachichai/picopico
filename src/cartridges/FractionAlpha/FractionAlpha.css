.fraction-alpha-container {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    /* Center vertically better */
    gap: 1rem;
    /* Add consistent gap */
    padding: 2rem 1rem;
    background-color: #F8FAFC;
    box-sizing: border-box;
    font-family: 'Atma', 'Nunito', sans-serif;
    /* Use fun font if available */
}

.goal-card {
    background: white;
    padding: 1rem 2rem;
    border-radius: 12px;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    transform: rotate(-3deg);
    /* margin-bottom: 1rem; handled by gap now */
    border: 2px solid #E2E8F0;
    flex-shrink: 0;
    /* Prevent shrinking */
}

.goal-text {
    font-size: 3rem;
    font-weight: 900;
    color: #334155;
}

.fraction-goal {
    display: flex;
    flex-direction: column;
    align-items: center;
    font-size: 2.5rem;
    font-weight: 900;
    color: #334155;
    line-height: 1;
}

.divider {
    width: 100%;
    height: 4px;
    background-color: #334155;
    margin: 4px 0;
    border-radius: 2px;
}

.game-visual {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    /* max-height: 300px; removed to allow flex to handle it, but we'll cap the SVG size */
    min-height: 0;
    /* Important for flex nesting */
}

.pie-svg {
    width: 100%;
    height: 100%;
    max-width: 220px;
    /* Reduced from 280px (20% smaller is ~224px, 220px is safe) */
    max-height: 220px;
    overflow: visible;
}

.pie-svg.rect-mode {
    max-width: 270px;
    /* ~20% wider than 220px */
}

/* Update slice styles */
.slice {
    /* No generic transition for 'd' path changes to eliminate animation on add/remove */
    /* Only transition transform for serve mode */
    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    /* Bouncy pop out */
}

.slice.interactive {
    cursor: pointer;
}

.slice.interactive:hover {
    fill-opacity: 0.9;
}

.controls-area {
    display: flex;
    align-items: center;
    justify-content: center;
    /* Explicit centering */
    gap: 1.5rem;
    margin: 0 auto;
    /* Ensure centering in block flow */
    width: 100%;
}

.ctrl-btn {
    width: 60px;
    height: 60px;
    border-radius: 12px;
    background: white;
    border: 2px solid #334155;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #334155;
    box-shadow: 4px 4px 0px #334155;
    transition: all 0.1s;
}

.ctrl-btn:active {
    transform: translate(2px, 2px);
    box-shadow: 2px 2px 0px #334155;
}

.ctrl-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    background: #E2E8F0;
    border-color: #94A3B8;
    color: #94A3B8;
    box-shadow: none;
    transform: none;
}

.current-val-display {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: white;
    border: 2px solid #334155;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    font-weight: 800;
    color: #334155;
}

.ready-btn {
    width: 100%;
    max-width: 220px;
    /* Match pie width roughly */
    margin: 0 auto;
    /* Center it */
    padding: 1rem;
    font-size: 1.5rem;
    font-weight: 900;
    color: white;
    background: #3B82F6;
    /* Blue-500 */
    border: 2px solid #1D4ED8;
    border-radius: 16px;
    box-shadow: 0 4px 0 #1D4ED8;
    transition: transform 0.2s, box-shadow 0.2s;
    letter-spacing: 1px;
}

.ready-btn:active {
    transform: translateY(4px);
    box-shadow: 0 0 0 #1D4ED8;
}

/* Correct state */
.ready-btn.correct {
    background: #22C55E;
    /* Green-500 */
    border-color: #15803D;
    box-shadow: 0 4px 0 #15803D;
}

/* Incorrect state (shake but keep blue? Or red? User said "it's changing colors and it shouldn't" generally implying unexpected changes. 
   Usually "Ready" button should only change on success/fail. 
   If user means it shouldn't change color on hover/active in a weird way, correct.
   If user means it shouldn't turn RED on error, that's debatable, but I'll keep red for explicit error feedback, 
   but ensure it reverts quickly. The user might mean it was changing randomly or due to some other CSS effect?)
   
   Actually, looking at previous CSS, it didn't have hover effects that changed color. 
   I will ensure it stays blue unless explicitly 'correct' or 'incorrect'.
*/
.ready-btn.incorrect {
    background: #EF4444;
    /* Red-500 */
    border-color: #B91C1C;
    box-shadow: 0 4px 0 #B91C1C;
    animation: shake 0.5s;
}

@keyframes shake {
    0% {
        transform: translateX(0);
    }

    25% {
        transform: translateX(-5px);
    }

    50% {
        transform: translateX(5px);
    }

    75% {
        transform: translateX(-5px);
    }

    100% {
        transform: translateX(0);
    }
}